<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: baseLayout(${pageTitle}, ~{::div})}">
	<div>
		<h1>Accedi</h1>
		
		<div th:if="${errorMsg}">
		    <p style="color:red" th:text="${errorMsg}"></p>
		</div>
		
		<div th:if="${logoutMsg}">
		    <p style="color:green" th:text="${logoutMsg}"></p>
		</div>
		
		<div th:if="${successMsg}">
		    <p style="color:green" th:text="${successMsg}"></p>
		</div>
        
        <form th:action="@{/processa-login}" method="post">
        	<input type="hidden"
		           th:name="${_csrf.parameterName}"
		           th:value="${_csrf.token}" />
		           
            <div>
            	<label>Email: </label>
            	<input type="text" name="email"/>
            </div>
            <div>
            	<label>Password: </label>
            	<input type="password" name="password"/>
            </div>
            
            <div>
            	<input type="submit" value="Accedi"/>
            </div>
        </form>
        
        <p>Non hai un account? <a th:href="@{/registrati}">Registrati</a></p>
	</div>
</html>